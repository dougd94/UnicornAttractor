{% extends 'base.html' %} {% load static %}++{% block page_title %}Home Page{% endblock %} {% block page_heading %}Home{% endblock %} 
{% block head_js %}
<!--charts javascript-->
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
<script>
var endpoint = '{% url "Get_Data"  %}';
var DefaultData = []
var labels = []
var labels2 = []
var DefaultData2 = []
$.ajax({
    method: "GET",
    url: endpoint,
    // ammount of paid features and bugs
    success: function(data) {
        labels = data.labels;
        DefaultData = data.default;
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                    label: 'A count of bugs and features.',
                    data: DefaultData,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                    ],
                    borderWidth: 1
                }]
            }
        })
        // chart 2 unpaid + paid features
        labels2 = data.labels2;
        DefaultData2 = data.default2;
        var ctx2 = document.getElementById('paidfeatures').getContext('2d');
        var paidfeatures = new Chart(ctx2, {
            type: 'bar',
            options: {
                legend: {
                    display: false,
                }
            },
            data: {
                labels: labels2,
                datasets: [{
                    label: 'Features',
                    data: DefaultData2,
                    backgroundColor: [
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                    ],
                    borderWidth: 1
                }]
            }
        })
        // chart 3 most upvotes
        labels3 = data.labels3;
        DefaultData3 = data.default3;
        var ctx3 = document.getElementById('upvotesfeatures').getContext('2d');
        var paidfeatures = new Chart(ctx3, {
            type: 'polarArea',
            data: {
                labels: labels3,
                datasets: [{
                    label: 'Most Upvoted',
                    data: DefaultData3,
                    backgroundColor: [
                        'rgba(214, 152, 185, 0.2)',
                        'rgba(174, 221, 205, 0.2)',
                    ],
                    borderColor: [
                        'rgba(223, 117, 153, 1)',
                        'rgba(114, 214, 201, 1)',
                    ],
                    borderWidth: 1
                }]
            }
        })
        // chart 4 doingdone for bugs
        labels4 = data.labels4;
        DefaultData4 = data.default4;
        var ctx4 = document.getElementById('doingdone').getContext('2d');
        var doingdone = new Chart(ctx4, {
            type: 'pie',
            data: {
                labels: labels4,
                datasets: [{
                    label: 'Doing Done and Finished',
                    data: DefaultData4,
                    backgroundColor: [
                        'rgba(255, 199, 133, 0.2)',
                        'rgba(214, 152, 185, 0.2)',
                        'rgba(150, 178, 171, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 182, 119, 1)',
                        'rgba(214, 152, 185, 1)',
                        "rgba(97, 192, 191, 1)",
                    ],
                    borderWidth: 1
                }]
            }
        })
        // chart 5 doingdone for features
        labels5 = data.labels5;
        DefaultData5 = data.default5;
        var ctx5 = document.getElementById('doingdonef').getContext('2d');
        var doingdonef = new Chart(ctx5, {
            type: 'pie',
            data: {
                labels: labels5,
                datasets: [{
                    label: 'Doing Done and Finished',
                    data: DefaultData5,
                    backgroundColor: [
                        'rgba(232, 211, 255, 0.2)',
                        'rgba(222, 252, 252, 0.2)',
                        'rgba(150, 178, 171, 0.2)',
                    ],
                    borderColor: [
                        'rgba(105, 119, 155, 1)',
                        'rgba(166, 227, 233, 1)',
                        "rgba(97, 192, 191, 1)",
                    ],
                    borderWidth: 1
                }]
            }
        })
    },


    error: function(error_data) {
        console.log("error");
        console.log(error_data);
    }
})

</script>
{% endblock %}
{% block content %}
<div class="jumbotron">
    <h1>Unicorn Attractor</h1>
    <p>Our unique business model allows you to pay for features you want us to implement, you can add bugs you wish to be fixed for <strong>free!</strong></p>
    <p>We spend most of our time on payed features.
        <div class="progress progress-striped active">
            <div class="progress-bar" style="width: 75%">
            </div>
        </div>
    </p>
<p><a href="{% url 'registration'%}" class="btn btn-primary btn-lg">Sign Up</a></p>
</div>
<div class="col-12 text-center"><h2>Statistics</h2></div>
<div class="col-md-6 col-xs-12">
    <label for "myChart">Ammount of bugs and paid features.</label>
    <canvas id="myChart"></canvas>
</div>
<br>
<div class="col-md-6 col-xs-12">
    <label for"paidfeatures">Ammount of paid and unpaid features</label>
    <canvas id="paidfeatures"></canvas>
</div>
<div class="col-12">
    <canvas id="upvotesfeatures"></canvas>
    <label for"upvotesfeatures">Comparison of highest upvoted bug and feature.</label>
</div>
<div class="col-xs-12 col-md-6">
    <canvas id="doingdone"></canvas>
    <label for"doingdone">Count of bugs To Do/Doing or Finished</label>
</div>
<div class="col-xs-12 col-md-6">
    <canvas id="doingdonef"></canvas>
    <label for"doingdonef">Count of Features To Do/Doing or Finished</label>
</div>
{% endblock %}
